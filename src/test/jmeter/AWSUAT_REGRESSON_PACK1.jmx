<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="2.8" jmeter="2.13 r1665067">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="ESER_MINIMAL_REGRESSION_12SCN_PAM" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">true</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <AuthManager guiclass="AuthPanel" testclass="AuthManager" testname="HTTP Authorization Manager" enabled="false">
        <collectionProp name="AuthManager.auth_list">
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">https://estcuatvlb.global.umusic.ext:47006</stringProp>
            <stringProp name="Authorization.username">user</stringProp>
            <stringProp name="Authorization.password"></stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">https://es-connector-uataws.umusic.com:47003</stringProp>
            <stringProp name="Authorization.username">user</stringProp>
            <stringProp name="Authorization.password"></stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
        </collectionProp>
      </AuthManager>
      <hashTree/>
      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="false">
        <collectionProp name="HeaderManager.headers">
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Content-Type</stringProp>
            <stringProp name="Header.value">text/xml</stringProp>
          </elementProp>
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Authorization</stringProp>
            <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
          </elementProp>
        </collectionProp>
      </HeaderManager>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="AWSUAT_VARIABLES" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="URL" elementType="Argument">
            <stringProp name="Argument.name">URL</stringProp>
            <stringProp name="Argument.value">es-connector-uataws.umusic.com</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">es-connector-uataws.umusic.com</stringProp>
          </elementProp>
          <elementProp name="PORT" elementType="Argument">
            <stringProp name="Argument.name">PORT</stringProp>
            <stringProp name="Argument.value">443</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">443/47003</stringProp>
          </elementProp>
          <elementProp name="ELASTICSEARCH_URL" elementType="Argument">
            <stringProp name="Argument.name">ELASTICSEARCH_URL</stringProp>
            <stringProp name="Argument.value">internal-cloudaws19-es-search-uat-elb-1711255102.us-east-1.elb.amazonaws.com</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">aws19lvapp001.umusic.net</stringProp>
          </elementProp>
          <elementProp name="ELASTICSEARCH_PORT" elementType="Argument">
            <stringProp name="Argument.name">ELASTICSEARCH_PORT</stringProp>
            <stringProp name="Argument.value">80</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">10.254.176.240</stringProp>
          </elementProp>
          <elementProp name="CURL" elementType="Argument">
            <stringProp name="Argument.name">CURL</stringProp>
            <stringProp name="Argument.value">es-connector.umusic.com/rest-facade</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="WAITTIME" elementType="Argument">
            <stringProp name="Argument.name">WAITTIME</stringProp>
            <stringProp name="Argument.value">5000</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="LB_URL" elementType="Argument">
            <stringProp name="Argument.name">LB_URL</stringProp>
            <stringProp name="Argument.value">https://es-connector-uataws.umusic.com</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="UAT_VARIABLES" enabled="false">
        <collectionProp name="Arguments.arguments">
          <elementProp name="URL" elementType="Argument">
            <stringProp name="Argument.name">URL</stringProp>
            <stringProp name="Argument.value">estcuatvlb.global.umusic.ext</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">estcuatvlb.global.umusic.ext</stringProp>
          </elementProp>
          <elementProp name="PORT" elementType="Argument">
            <stringProp name="Argument.name">PORT</stringProp>
            <stringProp name="Argument.value">47006</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="ELASTICSEARCH_URL" elementType="Argument">
            <stringProp name="Argument.name">ELASTICSEARCH_URL</stringProp>
            <stringProp name="Argument.value">umg-es-indexer-uat-elb.umusic.net</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="ELASTICSEARCH_PORT" elementType="Argument">
            <stringProp name="Argument.name">ELASTICSEARCH_PORT</stringProp>
            <stringProp name="Argument.value">80</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="CURL" elementType="Argument">
            <stringProp name="Argument.name">CURL</stringProp>
            <stringProp name="Argument.value">es-connector.umusic.com/rest-facade</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="WAITTIME" elementType="Argument">
            <stringProp name="Argument.name">WAITTIME</stringProp>
            <stringProp name="Argument.value">10000</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="UAT_DB_CONFIG" enabled="false">
        <boolProp name="autocommit">true</boolProp>
        <stringProp name="checkQuery">Select 1</stringProp>
        <stringProp name="connectionAge">5000</stringProp>
        <stringProp name="dataSource">myDatabase</stringProp>
        <stringProp name="dbUrl">jdbc:jtds:sqlserver://ESDBMSSQLnonPRD.global.umusic.ext:2619/ESDB_UAT</stringProp>
        <stringProp name="driver">net.sourceforge.jtds.jdbc.Driver</stringProp>
        <boolProp name="keepAlive">true</boolProp>
        <stringProp name="password">EXkAEMsBO0qie0I7OHds</stringProp>
        <stringProp name="poolMax">10</stringProp>
        <stringProp name="timeout">10000</stringProp>
        <stringProp name="transactionIsolation">DEFAULT</stringProp>
        <stringProp name="trimInterval">60000</stringProp>
        <stringProp name="username">GGESREAD</stringProp>
      </JDBCDataSource>
      <hashTree/>
      <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="AWSUAT_DB_CONFIG" enabled="true">
        <boolProp name="autocommit">true</boolProp>
        <stringProp name="checkQuery">Select 1</stringProp>
        <stringProp name="connectionAge">5000</stringProp>
        <stringProp name="dataSource">myDatabase</stringProp>
        <stringProp name="dbUrl">jdbc:jtds:sqlserver://muleuatmssqldb.cvteskww8cdf.us-east-1.rds.amazonaws.com:1433/ESDB_UAT</stringProp>
        <stringProp name="driver">net.sourceforge.jtds.jdbc.Driver</stringProp>
        <boolProp name="keepAlive">true</boolProp>
        <stringProp name="password">zechE7EQux3g</stringProp>
        <stringProp name="poolMax">10</stringProp>
        <stringProp name="timeout">10000</stringProp>
        <stringProp name="transactionIsolation">DEFAULT</stringProp>
        <stringProp name="trimInterval">60000</stringProp>
        <stringProp name="username">muleuatdbuser</stringProp>
      </JDBCDataSource>
      <hashTree/>
      <AuthManager guiclass="AuthPanel" testclass="AuthManager" testname="HTTP Authorization Manager" enabled="true">
        <collectionProp name="AuthManager.auth_list">
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">https://estcuatvlb.global.umusic.ext:47006</stringProp>
            <stringProp name="Authorization.username">user</stringProp>
            <stringProp name="Authorization.password"></stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">http://${ELASTICSEARCH_URL}/lnk_resources/physicalassetmessage/_search?q=physicalassetmessage</stringProp>
            <stringProp name="Authorization.username">TrustedSearch</stringProp>
            <stringProp name="Authorization.password">TrustedPassword</stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">http://${ELASTICSEARCH_URL}/lnk_resources/physicalassetmessage/_search?_messageheader_resourceid=${P_ID}</stringProp>
            <stringProp name="Authorization.username">TrustedSearch</stringProp>
            <stringProp name="Authorization.password">TrustedPassword</stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">http://${ELASTICSEARCH_URL}/lnk_resources/physicalassetmessage/_search</stringProp>
            <stringProp name="Authorization.username">TrustedSearch</stringProp>
            <stringProp name="Authorization.password">TrustedPassword</stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
          <elementProp name="" elementType="Authorization">
            <stringProp name="Authorization.url">http://${ELASTICSEARCH_URL}/lnk_resources/physicalassetmessage/</stringProp>
            <stringProp name="Authorization.username">TrustedSearch</stringProp>
            <stringProp name="Authorization.password">TrustedPassword</stringProp>
            <stringProp name="Authorization.domain"></stringProp>
            <stringProp name="Authorization.realm"></stringProp>
          </elementProp>
        </collectionProp>
      </AuthManager>
      <hashTree/>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="ESER_MINIMAL_REGRESSION_12SCN_PAM" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1446033086000</longProp>
        <longProp name="ThreadGroup.end_time">1446033086000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC01_Publish_PAM_CHK_ES_S3" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <stringProp name="TestPlan.comments">Publish a Physical Asset Message to Rest Fa√ßade and ensure it is indexed in Elastic Search and S3</stringProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126980543">
                <stringProp name="172362555">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC01</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_01_POST_PublishRestFacade" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">text/xml</stringProp>
                  </elementProp>
                  <elementProp name="" elementType="Header">
                    <stringProp name="Header.name">Authorization</stringProp>
                    <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Elastic Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_02_ElasticSearchPOST" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value"> { &quot;query&quot;:{ &quot;query_string&quot;:{ &quot;query&quot;:&quot;messageheader_resourceid:\&quot;${P_ID}\&quot;&quot; } },&quot;from&quot;:0, &quot;size&quot;:16, &quot;version&quot;:true }</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${ELASTICSEARCH_URL}</stringProp>
                <stringProp name="HTTPSampler.port">${ELASTICSEARCH_PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/lnk_resources/physicalassetmessage/_search</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="TestPlan.comments">20151027T030934  </stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total count assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-1129507848">hits&quot;:{&quot;total&quot;:1,</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="S3 RF Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_03_SearchPOST_Master" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${URL}</stringProp>
                <stringProp name="HTTPSampler.port">${PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">https</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">text/xml</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Authorization</stringProp>
                      <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                    <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC02_Publish_DAM_CHK_ES_S3" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish DAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC02_01_POST_PublishRestFacade" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;%End of S3 Current: Total Time Taken%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                <stringProp name="ConstantTimer.delay">2000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="S3 DB Search" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree/>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Elastic Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_02_ElasticSearchPOST" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value"> { &quot;query&quot;:{ &quot;query_string&quot;:{ &quot;query&quot;:&quot;messageheader_resourceid:\&quot;${P_ID}\&quot;&quot; } },&quot;from&quot;:0, &quot;size&quot;:16, &quot;version&quot;:true }</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${ELASTICSEARCH_URL}</stringProp>
                <stringProp name="HTTPSampler.port">${ELASTICSEARCH_PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/lnk_resources/physicalassetmessage/_search</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="TestPlan.comments">20151027T030934  </stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total count assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-1129507848">hits&quot;:{&quot;total&quot;:1,</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="S3 RF Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_03_SearchPOST_Master" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${URL}</stringProp>
                <stringProp name="HTTPSampler.port">${PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">https</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                    <stringProp name="1192940008">&lt;Total&gt;1&lt;/Total&gt;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC03_Publish_PAM_MSG2" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Publish a Physical asset message with version that has already been published</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126907507">
                <stringProp name="172362557">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC03</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_01_POST_PublishRestFacade_MSG1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message1 not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_02_Retrieve_LatestVersion" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop 2" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_03_POST_PublishRestFacade_MSG2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;BIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;%Version Conflict Exception%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="false">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;%The latest resource already exists%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait ${WAITTIME}s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Check Data Changes Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_04_Retrieve_CheckDataChange" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="-1463392483">/MessageId&gt;&lt;MessageSource xmlns=&quot;&quot;&gt;BIC&lt;/MessageSource&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC04_Delete_PAM" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Delete the latest version of a published PAM message</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS2" elementType="Argument">
                <stringProp name="Argument.name">P_VERS2</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss001)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="787179603">P_VERS2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-772960268">
                <stringProp name="172362558">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC04</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1343494879">${__time(yyyyMMddHHmmss001)}</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_02_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM v2 Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_03_POST_PublishRestFacade_V2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_04_Retrieve_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Delete Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_05_Delete_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGA_Start of DB wait loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;Delete from S3 Current completed%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error message" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="E: After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After Wait Loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Deleted Version After Delete Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_06_RetrieveDeletedMessage_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1508523913">Description&gt;The specified resource does not exists in REPOSITORY&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 404 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="51512">404</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Last Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_07_RetrieveLastMessage_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC05_Retrieve_Latest_Version" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Retrieve the latest version of Physical Asset via Rest Fa√ßade </stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS2" elementType="Argument">
                <stringProp name="Argument.name">P_VERS2</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss001)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="787179603">P_VERS2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-771828210">
                <stringProp name="172362559">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC05</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1343494879">${__time(yyyyMMddHHmmss001)}</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_02_RetrieveWrap_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_03_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM v2 Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_04_POST_PublishRestFacade_V2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_05_RetrieveWrap_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_05_Retrieve_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC06_Retrieve_Latest_Version_WithDeleteFlag" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Retrieve the latest version of Physical Asset that has been deleted but set include deleted flag</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS2" elementType="Argument">
                <stringProp name="Argument.name">P_VERS2</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss001)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="787179603">P_VERS2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-747548545">
                <stringProp name="172362560">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC06</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1343494879">${__time(yyyyMMddHHmmss001)}</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_02_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM v2 Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_03_POST_PublishRestFacade_V2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_04_Retrieve_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Delete Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_05_Delete_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGA_Start of DB wait loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;Delete from S3 Current completed%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error message" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="E: After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After Wait Loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Deleted Version After Delete Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_06_RetrieveDeletedMessage_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false&amp;control=deleted:include</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="658826695">&lt;ResourceType xmlns=&quot;&quot;&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;&lt;ResourceUtcDateTimeStamp xmlns=</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC07_SearchGET_PAM_Master" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Master Search for a Physical Asset message by id using GET </stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="false">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126014738">
                <stringProp name="172362561">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC07</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126014738">
                <stringProp name="172362561">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC07</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC07_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Master Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC07_02_SearchGET_MasterWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=master&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC07_03_SearchGET_Master_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=master</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="175826842">&lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC08_SearchGET_PAM_Index" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Index Search for Physical Asset Message by id using GET</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1125978220">
                <stringProp name="172362562">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC08</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Index Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_02_SearchGET_IndexWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=index&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL1</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}/(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_03_SearchGET_Index_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=index</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1379412447">&lt;/physicalasset_label_name&gt;&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;&lt;physicalasset_resource_2_artist_partyname_name&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL2</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_04_RetrieveWrap_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">${RETRIEVEURL1}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1857217481">ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_05_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">${RETRIEVEURL2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC09_SearchGET_PAM_Metadata" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Metadata Search for Physical Asset Message by id using GET</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1125941702">
                <stringProp name="172362563">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC09</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC09_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="MetaData Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC09_02_SearchGET_MetaDataWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;physicalasset_version=${P_VERS}&amp;result=metadata&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC09_03_SearchGET_MetaData_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;physicalasset_version=${P_VERS}&amp;result=metadata</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC10_SearchPOST_PAM_Master" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Master Search for a Physical Asset message by id using POST</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="76784135">P_ID1</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="728015002">
                <stringProp name="172362585">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC10</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1200347542">ammqd1000145-sqs1</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC10_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Master Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC10_02_SearchPOST_MasterWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC10_03_SearchPOST_Master_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-28982550">&lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&lt;ResourceUtcDateTimeStamp&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC11_SearchPOST_PAM_Index" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Index Search for Physical Asset Message by id using POST</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1123608394">
                <stringProp name="172362586">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC11</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Index Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_02_SearchPOST_IndexWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;index&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL1</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_03_SearchPOST_Index_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;index&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL2</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_04_RetrieveWrap_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">${RETRIEVEURL1}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_05_Retrieve_v1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">${RETRIEVEURL2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC12_SearchPOST_PAM_MetaData" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Metadata Search for Physical Asset Message by id using POST</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1123571876">
                <stringProp name="172362587">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC12</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC12_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                    <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="MetaData Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC12_02_SearchPOST_MetaDataWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;metadata&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC12_03_SearchPOST_MetaData_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;metadata&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ResultCollector guiclass="AssertionVisualizer" testclass="ResultCollector" testname="Assertion Results" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="StatVisualizer" testclass="ResultCollector" testname="Aggregate Report" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Thread Group" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1446489789000</longProp>
        <longProp name="ThreadGroup.end_time">1446489789000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <TestAction guiclass="TestActionGui" testclass="TestAction" testname="Test Action" enabled="true">
          <intProp name="ActionProcessor.action">1</intProp>
          <intProp name="ActionProcessor.target">0</intProp>
          <stringProp name="ActionProcessor.duration">60000</stringProp>
        </TestAction>
        <hashTree/>
        <kg.apc.jmeter.jmxmon.JMXMonCollector guiclass="kg.apc.jmeter.vizualizers.JMXMonGui" testclass="kg.apc.jmeter.jmxmon.JMXMonCollector" testname="jp@gc - JMXMon Samples Collector" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
          <longProp name="interval_grouping">1000</longProp>
          <boolProp name="graph_aggregated">false</boolProp>
          <stringProp name="include_sample_labels"></stringProp>
          <stringProp name="exclude_sample_labels"></stringProp>
          <stringProp name="start_offset"></stringProp>
          <stringProp name="end_offset"></stringProp>
          <boolProp name="include_checkbox_state">false</boolProp>
          <boolProp name="exclude_checkbox_state">false</boolProp>
          <collectionProp name="samplers">
            <collectionProp name="956392807">
              <stringProp name="2099481699">HPM Usuage</stringProp>
              <stringProp name="-821254634">service:jmx:rmi:///jndi/rmi://172.25.170.144:46089/jmxrmi</stringProp>
              <stringProp name="1579513072">monitorRole</stringProp>
              <stringProp name="-2123483848">hdjskslsl</stringProp>
              <stringProp name="-1508861468">java.lang:type=Memory</stringProp>
              <stringProp name="-687755404">HeapMemoryUsage</stringProp>
              <stringProp name="107876">max</stringProp>
              <stringProp name="1237">false</stringProp>
            </collectionProp>
          </collectionProp>
        </kg.apc.jmeter.jmxmon.JMXMonCollector>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="ESER_V2" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1446033086000</longProp>
        <longProp name="ThreadGroup.end_time">1446033086000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC01_Publish_PAM_CHK_ES_S3" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <stringProp name="TestPlan.comments">Publish a Physical Asset Message to Rest Fa√ßade and ensure it is indexed in Elastic Search and S3</stringProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126980543">
                <stringProp name="172362555">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC01</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_01_POST_PublishRestFacade" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Elastic Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_02_ElasticSearchPOST" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value"> { &quot;query&quot;:{ &quot;query_string&quot;:{ &quot;query&quot;:&quot;messageheader_resourceid:\&quot;${P_ID}\&quot;&quot; } },&quot;from&quot;:0, &quot;size&quot;:16, &quot;version&quot;:true }</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${ELASTICSEARCH_URL}</stringProp>
                <stringProp name="HTTPSampler.port">${ELASTICSEARCH_PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/lnk_resources/physicalassetmessage/_search</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="TestPlan.comments">20151027T030934  </stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total count assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-1129507848">hits&quot;:{&quot;total&quot;:1,</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="S3 RF Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_03_SearchPOST_Master" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${URL}</stringProp>
                <stringProp name="HTTPSampler.port">${PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">https</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                    <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC02_Publish_DAM_CHK_ES_S3" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish DAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC02_01_POST_PublishRestFacade" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;%End of S3 Current: Total Time Taken%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                <stringProp name="ConstantTimer.delay">2000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="S3 DB Search" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree/>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Elastic Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_02_ElasticSearchPOST" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value"> { &quot;query&quot;:{ &quot;query_string&quot;:{ &quot;query&quot;:&quot;messageheader_resourceid:\&quot;${P_ID}\&quot;&quot; } },&quot;from&quot;:0, &quot;size&quot;:16, &quot;version&quot;:true }</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${ELASTICSEARCH_URL}</stringProp>
                <stringProp name="HTTPSampler.port">${ELASTICSEARCH_PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/lnk_resources/physicalassetmessage/_search</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="TestPlan.comments">20151027T030934  </stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total count assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-1129507848">hits&quot;:{&quot;total&quot;:1,</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="S3 RF Search Loop" enabled="true">
              <boolProp name="LoopController.continue_forever">true</boolProp>
              <stringProp name="LoopController.loops">1</stringProp>
            </LoopController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_03_SearchPOST_Master" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${URL}</stringProp>
                <stringProp name="HTTPSampler.port">${PORT}</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="HTTPSampler.protocol">https</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.monitor">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                    <stringProp name="1192940008">&lt;Total&gt;1&lt;/Total&gt;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC03_Publish_PAM_MSG2" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Publish a Physical asset message with version that has already been published</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126907507">
                <stringProp name="172362557">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC03</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_01_POST_PublishRestFacade_MSG1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message1 not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_02_Retrieve_LatestVersion" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop 2" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_03_POST_PublishRestFacade_MSG2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;BIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;%Version Conflict Exception%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="false">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;%The latest resource already exists%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait ${WAITTIME}s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Check Data Changes Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC03_04_Retrieve_CheckDataChange" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="-1463392483">/MessageId&gt;&lt;MessageSource xmlns=&quot;&quot;&gt;BIC&lt;/MessageSource&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC04_Delete_PAM" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Delete the latest version of a published PAM message</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS2" elementType="Argument">
                <stringProp name="Argument.name">P_VERS2</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss001)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="787179603">P_VERS2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-772960268">
                <stringProp name="172362558">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC04</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1343494879">${__time(yyyyMMddHHmmss001)}</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_02_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM v2 Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_03_POST_PublishRestFacade_V2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_04_Retrieve_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Delete Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_05_Delete_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGA_Start of DB wait loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;Delete from S3 Current completed%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error message" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="E: After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After Wait Loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Deleted Version After Delete Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_06_RetrieveDeletedMessage_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1508523913">Description&gt;The specified resource does not exists in REPOSITORY&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 404 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="51512">404</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Last Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_07_RetrieveLastMessage_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC05_Retrieve_Latest_Version" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Retrieve the latest version of Physical Asset via Rest Fa√ßade </stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS2" elementType="Argument">
                <stringProp name="Argument.name">P_VERS2</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss001)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="787179603">P_VERS2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-771828210">
                <stringProp name="172362559">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC05</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1343494879">${__time(yyyyMMddHHmmss001)}</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_02_RetrieveWrap_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_03_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM v2 Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_04_POST_PublishRestFacade_V2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_05_RetrieveWrap_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC05_05_Retrieve_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC06_Retrieve_Latest_Version_WithDeleteFlag" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Retrieve the latest version of Physical Asset that has been deleted but set include deleted flag</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS2" elementType="Argument">
                <stringProp name="Argument.name">P_VERS2</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss001)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="787179603">P_VERS2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-747548545">
                <stringProp name="172362560">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC06</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1343494879">${__time(yyyyMMddHHmmss001)}</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_02_Retrieve_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM v2 Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_03_POST_PublishRestFacade_V2" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_04_Retrieve_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Delete Latest Version Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_05_Delete_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGA_Start of DB wait loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
AND LOG_MESSAGE like &apos;Delete from S3 Current completed%&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error message" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="E: After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After Wait Loop" enabled="false">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Deleted Version After Delete Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC06_06_RetrieveDeletedMessage_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false&amp;control=deleted:include</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="658826695">&lt;ResourceType xmlns=&quot;&quot;&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;&lt;ResourceUtcDateTimeStamp xmlns=</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC07_SearchGET_PAM_Master" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Master Search for a Physical Asset message by id using GET </stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="false">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126014738">
                <stringProp name="172362561">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC07</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1126014738">
                <stringProp name="172362561">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC07</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC07_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Master Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC07_02_SearchGET_MasterWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=master&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC07_03_SearchGET_Master_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=master</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="175826842">&lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC08_SearchGET_PAM_Index" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Index Search for Physical Asset Message by id using GET</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="76784136">P_ID2</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="1693900734">
                <stringProp name="-929428661">${__time(yyyyMMdd&apos;T&apos;hhmmss)}P1</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1698500372">ae20151112t013950sc0103065</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="false">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Publish" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a105&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;&#xd;
&#xd;
</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">47001</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">http</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/enterprise-repository-v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1857217481">ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Index Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_02_SearchGET_IndexWrap_V1" enabled="false">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#xd;
&lt;EnterpriseMessage xmlns=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot; xmlns:ns0=&quot;http://es.umgi.com/XMLSchemas/CustomProps&quot;&gt;&#xd;
    &lt;EnterpriseHeader&gt;&#xd;
        &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
        &lt;ThreadId&gt;0b0e09ab-5fb6-46f7-9c55-3b856acfa567&lt;/ThreadId&gt;&#xd;
        &lt;CreatedUtc&gt;2015-11-12 13:40:45.157Z&lt;/CreatedUtc&gt;&#xd;
        &lt;Source&gt;userSource&lt;/Source&gt;&#xd;
        &lt;Action&gt;Search&lt;/Action&gt;&#xd;
        &lt;Communication&gt;Synchronous&lt;/Communication&gt;&#xd;
        &lt;Resource&gt;&#xd;
            &lt;ResourceName&gt;physicalassetmessage&lt;/ResourceName&gt;&#xd;
        &lt;/Resource&gt;&#xd;
    &lt;/EnterpriseHeader&gt;&#xd;
    &lt;MessageBody&gt;&#xd;
        &lt;EnterpriseSearch&gt;&#xd;
            &lt;Offset&gt;0&lt;/Offset&gt;&#xd;
            &lt;Rows&gt;10&lt;/Rows&gt;&#xd;
            &lt;Result&gt;index&lt;/Result&gt;&#xd;
            &lt;SearchQuery&gt;&quot;resourceid&quot;: &quot;${P_ID}&quot;&lt;/SearchQuery&gt;&#xd;
        &lt;/EnterpriseSearch&gt;&#xd;
    &lt;/MessageBody&gt;&#xd;
&lt;/EnterpriseMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">47002</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">http</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/enterprise-search-v2&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL1</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}/(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_03_SearchPOST_Index_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#xd;
&lt;EnterpriseMessage xmlns=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot; xmlns:ns0=&quot;http://es.umgi.com/XMLSchemas/CustomProps&quot;&gt;&#xd;
    &lt;EnterpriseHeader&gt;&#xd;
        &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a105&lt;/MessageId&gt;&#xd;
        &lt;ThreadId&gt;0b0e09ab-5fb6-46f7-9c55-3b856acfa567&lt;/ThreadId&gt;&#xd;
        &lt;CreatedUtc&gt;2015-11-12 13:40:45.157Z&lt;/CreatedUtc&gt;&#xd;
        &lt;Source&gt;userSource&lt;/Source&gt;&#xd;
        &lt;Action&gt;Search&lt;/Action&gt;&#xd;
        &lt;Communication&gt;Synchronous&lt;/Communication&gt;&#xd;
        &lt;Resource&gt;&#xd;
            &lt;ResourceName&gt;physicalassetmessage&lt;/ResourceName&gt;&#xd;
        &lt;/Resource&gt;&#xd;
    &lt;/EnterpriseHeader&gt;&#xd;
    &lt;MessageBody&gt;&#xd;
        &lt;EnterpriseSearch&gt;&#xd;
            &lt;Offset&gt;0&lt;/Offset&gt;&#xd;
            &lt;Rows&gt;10&lt;/Rows&gt;&#xd;
            &lt;Result&gt;index&lt;/Result&gt;&#xd;
            &lt;SearchQuery&gt;&quot;resourceid&quot;: &quot;${P_ID}&quot;&lt;/SearchQuery&gt;&#xd;
        &lt;/EnterpriseSearch&gt;&#xd;
    &lt;/MessageBody&gt;&#xd;
&lt;/EnterpriseMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">47002</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">http</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/enterprise-search-v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL1</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}/(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC08_03_SearchGET_Index_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=index</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1379412447">&lt;/physicalasset_label_name&gt;&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;&lt;physicalasset_resource_2_artist_partyname_name&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL2</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC09_SearchGET_PAM_Metadata" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Metadata Search for Physical Asset Message by id using GET</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="76784136">P_ID2</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="2476906">P_ID</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-2134160147">
                <stringProp name="172362563">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC09</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1698500372">ae20151112t013950sc0103065</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="false">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC09_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="MetaData Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC09_02_SearchGET_MetaDataWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;physicalasset_version=${P_VERS}&amp;result=metadata&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  <stringProp name="395965238">(?i)&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC09_03_SearchGET_MetaData_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;physicalasset_version=${P_VERS}&amp;result=metadata</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  <stringProp name="-386742781">(?i)&lt;ResourceName&gt;physicalassetmessage&lt;/ResourceName&gt;&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC10_SearchPOST_PAM_Master" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Master Search for a Physical Asset message by id using POST</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="76784137">P_ID3</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="2476906">P_ID</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="728015002">
                <stringProp name="172362585">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC10</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="-1200347542">ammqd1000145-sqs1</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC10_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Master Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC10_02_SearchPOST_MasterWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1691182847">&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC10_03_SearchPOST_Master_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;master&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-28982550">&lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&lt;ResourceUtcDateTimeStamp&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC11_SearchPOST_PAM_Index" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Index Search for Physical Asset Message by id using POST</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1123608394">
                <stringProp name="172362586">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC11</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                  <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Index Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_02_SearchPOST_IndexWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;index&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL1</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_03_SearchPOST_Index_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;index&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1046162199">&lt;messageheader_resourceid&gt;${P_ID}&lt;/messageheader_resourceid&gt;</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="Extract URL for Retrieve" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">RETRIEVEURL2</stringProp>
                <stringProp name="RegexExtractor.regex">ResourceUrl&gt;${LB_URL}(.+?)&lt;/</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Retrieve Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_04_RetrieveWrap_V1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">${RETRIEVEURL1}&amp;wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC11_05_Retrieve_v1" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">${RETRIEVEURL2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1757049069">PhysicalAssetMessage&lt;/ResourceType&gt;&lt;ResourceId xmlns=&quot;&quot;&gt;${P_ID}&lt;/ResourceId&gt;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="SC12_SearchPOST_PAM_MetaData" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Metadata Search for Physical Asset Message by id using POST</stringProp>
        </TransactionController>
        <hashTree>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-1123571876">
                <stringProp name="172362587">${__time(yyyyMMdd&apos;T&apos;hhmmss)}SC12</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish PAM Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB get max id" enabled="true">
              <stringProp name="dataSource">myDatabase</stringProp>
              <stringProp name="query">SELECT MAX(id) FROM [ESDB_UAT].[dbo].[ES_LOGS]</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Select Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">MaxID</stringProp>
            </JDBCSampler>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Reset &apos;DONE&apos; Variable to true" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">vars.put (&quot;DONE&quot;,&quot;true&quot;);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC12_01_POST_PublishRestFacade_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 202 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49588">202</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="S3 DB Search Loop" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(${DONE})}</stringProp>
            </WhileController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">1</stringProp>
              </LoopController>
              <hashTree>
                <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGB_Checking DB for S3 entry" enabled="true">
                  <boolProp name="displayJMeterProperties">false</boolProp>
                  <boolProp name="displayJMeterVariables">true</boolProp>
                  <boolProp name="displaySystemProperties">false</boolProp>
                </DebugSampler>
                <hashTree/>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="P_Counter" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">10</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">P_Counter</stringProp>
                  <stringProp name="CounterConfig.format">0</stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="SQL_DB count for S3 Entry" enabled="true">
                  <stringProp name="dataSource">myDatabase</stringProp>
                  <stringProp name="query">SELECT count(*)  FROM [ESDB_UAT].[dbo].[ES_LOGS]	
WHERE id &gt; ${MaxID_1}
AND RESOURCE_ID=&apos;${P_ID}&apos;
and LOG_CODE=102010017
and LOG_MESSAGE like &apos;Publish Successful at the Repository&apos;
</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Select Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">S3RecordFound</stringProp>
                </JDBCSampler>
                <hashTree/>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if looped 10 times" enabled="true">
                  <stringProp name="IfController.condition">&quot;${P_Counter}&quot; == &quot;10&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGC_PAM Message not found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Log error, PAM message not found" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">log.error(&quot;ERROR: Message not found in S3 after 10 attempts&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_message</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="Checking if record is found" enabled="true">
                  <stringProp name="IfController.condition">&quot;${S3RecordFound_1}&quot; == &quot;1&quot;</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGD_PAM Message is found" enabled="true">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="Found change &apos;Done&apos; variable to false" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;DONE&quot;,&quot;false&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                  <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="MSGE_After loop" enabled="false">
                    <boolProp name="displayJMeterProperties">false</boolProp>
                    <boolProp name="displayJMeterVariables">true</boolProp>
                    <boolProp name="displaySystemProperties">false</boolProp>
                  </DebugSampler>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="Wait 2s before retrying" enabled="true">
                    <stringProp name="ConstantTimer.delay">${WAITTIME}</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="MetaData Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">1</stringProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC12_02_SearchPOST_MetaDataWrap_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;metadata&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?wrap=true</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC12_03_SearchPOST_MetaData_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;es:EnterpriseSearch xmlns:es=&quot;http://schemas.umusic.com/enterprise/services/2014/05&quot;&gt;&#xd;
  &lt;es:Offset&gt;0&lt;/es:Offset&gt;&#xd;
  &lt;es:Rows&gt;10&lt;/es:Rows&gt;&#xd;
  &lt;es:Result&gt;metadata&lt;/es:Result&gt;&#xd;
  &lt;es:SearchQuery&gt;messageheader_resourceid:${P_ID}&lt;/es:SearchQuery&gt;&#xd;
&lt;/es:EnterpriseSearch&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Count and message id assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ResultCollector guiclass="AssertionVisualizer" testclass="ResultCollector" testname="Assertion Results" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="StatVisualizer" testclass="ResultCollector" testname="Aggregate Report" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="MoveFiles" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1447672908000</longProp>
        <longProp name="ThreadGroup.end_time">1447672908000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="BeanShell Sampler" enabled="false">
          <stringProp name="BeanShellSampler.query">import org.apache.jmeter.services.FileServer;

// Get the variable(s) from the JMeter script
tempVar = vars.get(&quot;ExampleVar&quot;);

// Static elements or calculations
part1 = &quot;Car Speed is: &quot;;
part2 = &quot; km/h&quot;;

// Open File(s)
f = new FileOutputStream(&quot;C:\\apache-jmeter-2.13_bin\\Files\\carSpeed.csv&quot;, true); 
p = new PrintStream(f); 


// Write data to file 
p.println( part1 + tempVar + part2 );

// Close File(s)
p.close();
f.close();</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="BeanShell Sampler" enabled="true">
          <stringProp name="BeanShellSampler.query">import org.apache.jmeter.services.FileServer;
import java.io.FileInputStream;
import java.io.FileOutputStream;

public class FileCopy {
FileInputStream from = null; // Stream to read from source
FileOutputStream to = null; // Stream to write to destination

public static void main(String[] args) {
// Get the variable(s) from the JMeter script
	tempVar = vars.get(&quot;ExampleVar&quot;);
    	try
    	{
     	 from = new FileInputStream(&quot;C:\\apache-jmeter-2.13_bin\\Files\\14102015_test01_pub.csv&quot;); // Create input stream
	      to = new FileOutputStream(&quot;C:\\apache-jmeter-2.13_bin\\Files\\carSpeed.csv&quot;); // Create output stream
     	 byte[] buffer = new byte[4096]; // To hold file contents
	      int bytes_read; // How many bytes in buffer

     	 // Read a chunk of bytes into the buffer, then write them out,
	      // looping until we reach the end of the file (when read() returns
	      // -1). Note the combination of assignment and comparison in this
	      // while loop. This is a common I/O programming idiom.
	      while ((bytes_read = from.read(buffer)) != -1)
	        // Read until EOF
        to.write(buffer, 0, bytes_read); // write
    }
    // Always close the streams, even if exceptions were thrown
    finally {
      if (from != null)
        try {
          from.close();
        } catch (IOException e) {
          ;
        }
      if (to != nupublic class FileCopy {ll)FileInputStream from = null; // Stream to read from source
    FileOutputStream to = null; // Stream to write to destination
    }
}</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="ESER_Version1" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">50</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1446033086000</longProp>
        <longProp name="ThreadGroup.end_time">1446033086000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1_Publish" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Index Search for Physical Asset Message by id using GET</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-214052330">
                <stringProp name="1483531667">ahp${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Publish Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">60</stringProp>
          </LoopController>
          <hashTree>
            <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="Counter" enabled="true">
              <stringProp name="CounterConfig.start">1</stringProp>
              <stringProp name="CounterConfig.end">99999</stringProp>
              <stringProp name="CounterConfig.incr">1</stringProp>
              <stringProp name="CounterConfig.name">P_Counter</stringProp>
              <stringProp name="CounterConfig.format">00000</stringProp>
              <boolProp name="CounterConfig.per_user">false</boolProp>
            </CounterConfig>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC01_01_POST_PublishRestFacade" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}${P_Counter}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}${P_Counter}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}${P_Counter}&amp;version=${P_VERS}&amp;dummywilsontest=somecrappyvalue&amp;target=StudioHub</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="2_IndexSearch" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="76784135">P_ID1</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="2476906">P_ID</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="37087541">
                <stringProp name="-929428661">${__time(yyyyMMdd&apos;T&apos;hhmmss)}P1</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="1048448350">af20151118t06193512775</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Index Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <intProp name="LoopController.loops">-1</intProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SearchGET_Index_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=index</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="3_MasterSearch" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="76784135">P_ID1</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="2476906">P_ID</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="37087541">
                <stringProp name="-929428661">${__time(yyyyMMdd&apos;T&apos;hhmmss)}P1</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="1048448350">af20151118t06193512775</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Master Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <intProp name="LoopController.loops">-1</intProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SearchGET_Master_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;result=master</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="4_MetaData" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="76784135">P_ID1</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
              <stringProp name="2476906">P_ID</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="-910524645">
                <stringProp name="-929428661">${__time(yyyyMMdd&apos;T&apos;hhmmss)}P1</stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
                <stringProp name="1048448350">af20151118t06193512775</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="MetaData Search Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <intProp name="LoopController.loops">-1</intProp>
          </LoopController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SearchGET_MetaData_V1" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">&lt;PhysicalAssetMessage xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.umusic.com/umg.eai.asset-messages.v1&quot;&gt;&#xd;
  &lt;MessageHeader xmlns=&quot;&quot;&gt;&#xd;
    &lt;MessageId&gt;wto-7df35cb9-fc10-4553-8f83-0cc6d8c1a104&lt;/MessageId&gt;&#xd;
    &lt;MessageSource&gt;AIC&lt;/MessageSource&gt;&#xd;
    &lt;MessageUtcDateTimeStamp&gt;2015-04-30T09:33:42.1004185Z&lt;/MessageUtcDateTimeStamp&gt;&#xd;
    &lt;ResourceType&gt;PhysicalAssetMessage&lt;/ResourceType&gt;&#xd;
    &lt;ResourceId&gt;${P_ID}&lt;/ResourceId&gt;&#xd;
    &lt;ResourceUtcDateTimeStamp&gt;2015-05-11T08:33:40Z&lt;/ResourceUtcDateTimeStamp&gt;&#xd;
    &lt;SchemaVersion&gt;1.0&lt;/SchemaVersion&gt;&#xd;
    &lt;DefaultLanguageScriptCode&gt;en&lt;/DefaultLanguageScriptCode&gt;&#xd;
  &lt;/MessageHeader&gt;&#xd;
  &lt;PhysicalAsset xmlns=&quot;&quot;&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Barcode&quot; IsPrimaryId=&quot;true&quot;&gt;${P_ID}-Mule&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;PhysicalAssetIdentifier Type=&quot;Catalog&quot; IsPrimaryId=&quot;false&quot;&gt;878&lt;/PhysicalAssetIdentifier&gt;&#xd;
    &lt;Description&gt;CRY/NOW YOUR GONE&lt;/Description&gt;&#xd;
    &lt;Version&gt;Copy&lt;/Version&gt;&#xd;
    &lt;Location&gt;&#xd;
      &lt;Country&gt;UK&lt;/Country&gt;&#xd;
      &lt;VaultType&gt;UMG&lt;/VaultType&gt;&#xd;
      &lt;VaultName&gt;ADS-TNT&lt;/VaultName&gt;&#xd;
      &lt;ShelfCode&gt;ADS-TNT&lt;/ShelfCode&gt;&#xd;
      &lt;ArchivalStatus&gt;Shelved&lt;/ArchivalStatus&gt;&#xd;
    &lt;/Location&gt;&#xd;
    &lt;Format&gt;1/4 inch audio tape[Reel Size - 5 &quot;]&lt;/Format&gt;&#xd;
    &lt;MediaType&gt;Audio&lt;/MediaType&gt;&#xd;
    &lt;TapeWidth&gt;5 inch&lt;/TapeWidth&gt;&#xd;
    &lt;Label&gt;&#xd;
      &lt;Name&gt;Dick James Music&lt;/Name&gt;&#xd;
    &lt;/Label&gt;&#xd;
    &lt;Artist&gt;&#xd;
      &lt;PartyName&gt;&#xd;
        &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
      &lt;/PartyName&gt;&#xd;
    &lt;/Artist&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;1&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;CRY&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
    &lt;Resource&gt;&#xd;
      &lt;Index&gt;&#xd;
        &lt;Sequence&gt;2&lt;/Sequence&gt;&#xd;
      &lt;/Index&gt;&#xd;
      &lt;ResourceTitle LanguageScriptCode=&quot;en&quot;&gt;&#xd;
        &lt;Title&gt;NOW YOUR GONE&lt;/Title&gt;&#xd;
      &lt;/ResourceTitle&gt;&#xd;
      &lt;Artist&gt;&#xd;
        &lt;PartyName&gt;&#xd;
          &lt;Name&gt;GEMINI&lt;/Name&gt;&#xd;
        &lt;/PartyName&gt;&#xd;
      &lt;/Artist&gt;&#xd;
    &lt;/Resource&gt;&#xd;
  &lt;/PhysicalAsset&gt;&#xd;
&lt;/PhysicalAssetMessage&gt;</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/search/physicalassetmessage/?query=MessageHeader_ResourceId:${P_ID}&amp;physicalasset_version=${P_VERS}&amp;result=metadata</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Total and message id assertions" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1425975178">Total&gt;1&lt;/</stringProp>
                  <stringProp name="1957504817">(?i)ResourceId&gt;${P_ID}&lt;/</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Code 200 assertion" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="5_Delete" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">Index Search for Physical Asset Message by id using GET</stringProp>
        </TransactionController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header Manager" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Content-Type</stringProp>
                <stringProp name="Header.value">text/xml</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">Authorization</stringProp>
                <stringProp name="Header.value">dXNlcjpwYXNz</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="false">
            <collectionProp name="Arguments.arguments">
              <elementProp name="P_ID" elementType="Argument">
                <stringProp name="Argument.name">P_ID</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMdd&apos;T&apos;hhmmss)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="P_VERS" elementType="Argument">
                <stringProp name="Argument.name">P_VERS</stringProp>
                <stringProp name="Argument.value">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="DONE" elementType="Argument">
                <stringProp name="Argument.name">DONE</stringProp>
                <stringProp name="Argument.value">true</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </Arguments>
          <hashTree/>
          <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="User Parameters" enabled="true">
            <collectionProp name="UserParameters.names">
              <stringProp name="2476906">P_ID</stringProp>
              <stringProp name="-1914269761">P_VERS</stringProp>
              <stringProp name="2104194">DONE</stringProp>
            </collectionProp>
            <collectionProp name="UserParameters.thread_values">
              <collectionProp name="41157955">
                <stringProp name="0"></stringProp>
                <stringProp name="-1343495840">${__time(yyyyMMddHHmmss000)}</stringProp>
                <stringProp name="3569038">true</stringProp>
              </collectionProp>
            </collectionProp>
            <boolProp name="UserParameters.per_iteration">true</boolProp>
          </UserParameters>
          <hashTree/>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Delete Loop" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <intProp name="LoopController.loops">-1</intProp>
          </LoopController>
          <hashTree>
            <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="Counter" enabled="true">
              <stringProp name="CounterConfig.start">2</stringProp>
              <stringProp name="CounterConfig.end">99999</stringProp>
              <stringProp name="CounterConfig.incr">1</stringProp>
              <stringProp name="CounterConfig.name">P_Counter</stringProp>
              <stringProp name="CounterConfig.format">00000</stringProp>
              <boolProp name="CounterConfig.per_user">false</boolProp>
            </CounterConfig>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="SC04_05_Delete_V2" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain">${URL}</stringProp>
              <stringProp name="HTTPSampler.port">${PORT}</stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="HTTPSampler.protocol">https</stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/rest-facade/resources/physicalassetmessage/?identifier=${P_ID}&amp;version=${P_VERS2}&amp;wrap=false</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.monitor">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <ResultCollector guiclass="AssertionVisualizer" testclass="ResultCollector" testname="Assertion Results" enabled="true">
          <boolProp name="ResultCollector.error_logging">true</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="false">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
          <boolProp name="ResultCollector.error_logging">true</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename">C:\apache-jmeter-2.13_bin\TestResults\24112015_AWS_Version1_Testing\24112015_Publish_50t_RT3.csv</stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="StatVisualizer" testclass="ResultCollector" testname="Aggregate Report" enabled="false">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="StatVisualizer" testclass="ResultCollector" testname="Aggregate Report" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>true</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <threadCounts>true</threadCounts>
            </value>
          </objProp>
          <stringProp name="filename">C:\apache-jmeter-2.13_bin\TestResults\24112015_AWS_Version1_Testing\24112015_Publish_50t_AR3.csv</stringProp>
        </ResultCollector>
        <hashTree/>
      </hashTree>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
